/******************************************************************************

                            Online C Compiler.
                Code, Compile, Run and Debug C program online.
Write your code in this editor and press "Run" button to compile and execute it.

*******************************************************************************/

#include <stdio.h>
#include <stddef.h>


#define __GLCD_Pulse_En					10

#define __GLCD_Command_On				0x3F
#define __GLCD_Command_Off				0x3E
#define __GLCD_Command_Set_Address		0x40
#define __GLCD_Command_Set_Page	   		0xB8
#define __GLCD_Command_Display_Start	0xC0

#define __GLCD_Screen_Width          	128
#define __GLCD_Screen_Height         	64
#define	__GLCD_Screen_Line_Height		8
#define __GLCD_Screen_Lines				__GLCD_Screen_Height / __GLCD_Screen_Line_Height
#define __GLCD_Screen_Chips				2

#define __GLCD_BUSY_FLAG				7

enum Chip_t
{
	Chip_1,
	Chip_2,
	Chip_All
};
enum ReadMode_t
{
	GLCD_Increment,
	GLCD_No_Increment
};
enum OperatingMode_t
{
	GLCD_Inverted,
	GLCD_Non_Inverted
};
enum PrintMode_t
{
	GLCD_Overwrite,
	GLCD_Merge
};
enum Color_t
{
	GLCD_White = 0x00,
	GLCD_Black = 0xFF
};

typedef struct
{
	unsigned int *Name;
	unsigned int Width;
	unsigned int Height;
	unsigned int Lines;
	enum PrintMode_t Mode;
	enum OperatingMode_t Invert;
	

}Font_t;

typedef struct
{
	unsigned int X;
	unsigned int Y;
	enum OperatingMode_t Mode;
	Font_t Font;
}GLCD_t;
//-------------

unsigned int __GLCD_Buffer[__GLCD_Screen_Width][__GLCD_Screen_Lines];
	
GLCD_t __GLCD;

#define __GLCD_XtoChip(X)		((X < (__GLCD_Screen_Width / __GLCD_Screen_Chips)) ? Chip_1 : Chip_2)
#define __GLCD_Min(X, Y)		((X < Y) ? X : Y)
#define __GLCD_AbsDiff(X, Y)	((X > Y) ? (X - Y) : (Y - X))
#define __GLCD_Swap(X, Y)		do{ unsigned int t = X; X = Y; Y = t; }while(0)



const unsigned int Font5x8[] = 
{
	0x05, 0x00, 0x00, 0x00, 0x00, 0x00,      // Code for char
	0x05, 0x00, 0x00, 0x5F, 0x00, 0x00,      // Code for char !
	0x05, 0x00, 0x07, 0x00, 0x07, 0x00,      // Code for char "
	0x05, 0x14, 0x7F, 0x14, 0x7F, 0x14,      // Code for char #
	0x05, 0x24, 0x2A, 0x7F, 0x2A, 0x12,      // Code for char $
	0x05, 0x23, 0x13, 0x08, 0x64, 0x62,      // Code for char %
	0x05, 0x36, 0x49, 0x56, 0x20, 0x50,      // Code for char &
	0x05, 0x08, 0x07, 0x03, 0x00, 0x00,      // Code for char '
	0x05, 0x00, 0x1C, 0x22, 0x41, 0x00,      // Code for char (
	0x05, 0x00, 0x41, 0x22, 0x1C, 0x00,      // Code for char )
	0x05, 0x14, 0x08, 0x3E, 0x08, 0x14,      // Code for char *
	0x05, 0x08, 0x08, 0x3E, 0x08, 0x08,      // Code for char +
	0x05, 0x00, 0xB0, 0x70, 0x00, 0x00,      // Code for char ,
	0x05, 0x08, 0x08, 0x08, 0x08, 0x08,      // Code for char -
	0x05, 0x00, 0x60, 0x60, 0x00, 0x00,      // Code for char .
	0x05, 0x20, 0x10, 0x08, 0x04, 0x02,      // Code for char /
	0x05, 0x3E, 0x51, 0x49, 0x45, 0x3E,      // Code for char 0
	0x05, 0x00, 0x42, 0x7F, 0x40, 0x00,      // Code for char 1
	0x05, 0x72, 0x49, 0x49, 0x49, 0x46,      // Code for char 2
	0x05, 0x21, 0x41, 0x49, 0x4D, 0x33,      // Code for char 3
	0x05, 0x18, 0x14, 0x12, 0x7F, 0x10,      // Code for char 4
	0x05, 0x27, 0x45, 0x45, 0x45, 0x39,      // Code for char 5
	0x05, 0x3C, 0x4A, 0x49, 0x49, 0x31,      // Code for char 6
	0x05, 0x41, 0x21, 0x11, 0x09, 0x07,      // Code for char 7
	0x05, 0x36, 0x49, 0x49, 0x49, 0x36,      // Code for char 8
	0x05, 0x46, 0x49, 0x49, 0x29, 0x1E,      // Code for char 9
	0x05, 0x00, 0x00, 0x14, 0x00, 0x00,      // Code for char :
	0x05, 0x00, 0x40, 0x34, 0x00, 0x00,      // Code for char ;
	0x05, 0x08, 0x14, 0x22, 0x41, 0x00,      // Code for char <
	0x05, 0x14, 0x14, 0x14, 0x14, 0x14,      // Code for char =
	0x05, 0x41, 0x22, 0x14, 0x08, 0x00,      // Code for char >
	0x05, 0x02, 0x01, 0x59, 0x09, 0x06,      // Code for char ?
	0x05, 0x3E, 0x41, 0x5D, 0x59, 0x4E,      // Code for char @
	0x05, 0x7C, 0x12, 0x11, 0x12, 0x7C,      // Code for char A
	0x05, 0x7F, 0x49, 0x49, 0x49, 0x36,      // Code for char B
	0x05, 0x3E, 0x41, 0x41, 0x41, 0x22,      // Code for char C
	0x05, 0x7F, 0x41, 0x41, 0x41, 0x3E,      // Code for char D
	0x05, 0x7F, 0x49, 0x49, 0x49, 0x49,      // Code for char E
	0x05, 0x7F, 0x09, 0x09, 0x09, 0x09,      // Code for char F
	0x05, 0x3E, 0x41, 0x41, 0x51, 0x73,      // Code for char G
	0x05, 0x7F, 0x08, 0x08, 0x08, 0x7F,      // Code for char H
	0x05, 0x00, 0x41, 0x7F, 0x41, 0x00,      // Code for char I
	0x05, 0x20, 0x40, 0x41, 0x3F, 0x01,      // Code for char J
	0x05, 0x7F, 0x08, 0x14, 0x22, 0x41,      // Code for char K
	0x05, 0x7F, 0x40, 0x40, 0x40, 0x40,      // Code for char L
	0x05, 0x7F, 0x02, 0x0C, 0x02, 0x7F,      // Code for char M
	0x05, 0x7F, 0x04, 0x08, 0x10, 0x7F,      // Code for char N
	0x05, 0x3E, 0x41, 0x41, 0x41, 0x3E,      // Code for char O
	0x05, 0x7F, 0x09, 0x09, 0x09, 0x06,      // Code for char P
	0x05, 0x3E, 0x41, 0x51, 0x21, 0x5E,      // Code for char Q
	0x05, 0x7F, 0x09, 0x19, 0x29, 0x46,      // Code for char R
	0x05, 0x26, 0x49, 0x49, 0x49, 0x32,      // Code for char S
	0x05, 0x01, 0x01, 0x7F, 0x01, 0x01,      // Code for char T
	0x05, 0x3F, 0x40, 0x40, 0x40, 0x3F,      // Code for char U
	0x05, 0x1F, 0x20, 0x40, 0x20, 0x1F,      // Code for char V
	0x05, 0x3F, 0x40, 0x38, 0x40, 0x3F,      // Code for char W
	0x05, 0x63, 0x14, 0x08, 0x14, 0x63,      // Code for char X
	0x05, 0x03, 0x04, 0x78, 0x04, 0x03,      // Code for char Y
	0x05, 0x61, 0x51, 0x49, 0x45, 0x43,      // Code for char Z
	0x05, 0x00, 0x7F, 0x41, 0x41, 0x00,      // Code for char [
	0x05, 0x02, 0x04, 0x08, 0x10, 0x20,      // Code for char BackSlash
	0x05, 0x00, 0x41, 0x41, 0x7F, 0x00,      // Code for char ]
	0x05, 0x04, 0x02, 0x01, 0x02, 0x04,      // Code for char ^
	0x05, 0x40, 0x40, 0x40, 0x40, 0x40,      // Code for char _
	0x05, 0x07, 0x0B, 0x00, 0x00, 0x00,      // Code for char `
	0x05, 0x20, 0x54, 0x54, 0x78, 0x40,      // Code for char a
	0x05, 0x7F, 0x28, 0x44, 0x44, 0x38,      // Code for char b
	0x05, 0x38, 0x44, 0x44, 0x44, 0x28,      // Code for char c
	0x05, 0x38, 0x44, 0x44, 0x28, 0x7F,      // Code for char d
	0x05, 0x38, 0x54, 0x54, 0x54, 0x18,      // Code for char e
	0x05, 0x00, 0x08, 0x7E, 0x09, 0x02,      // Code for char f
	0x05, 0x18, 0xA4, 0xA4, 0x9C, 0x78,      // Code for char g
	0x05, 0x7F, 0x08, 0x04, 0x04, 0x78,      // Code for char h
	0x05, 0x00, 0x44, 0x7D, 0x40, 0x00,      // Code for char i
	0x05, 0x20, 0x40, 0x40, 0x3D, 0x00,      // Code for char j
	0x05, 0x7F, 0x10, 0x28, 0x44, 0x00,      // Code for char k
	0x05, 0x00, 0x41, 0x7F, 0x40, 0x00,      // Code for char l
	0x05, 0x7C, 0x04, 0x78, 0x04, 0x78,      // Code for char m
	0x05, 0x7C, 0x08, 0x04, 0x04, 0x78,      // Code for char n
	0x05, 0x38, 0x44, 0x44, 0x44, 0x38,      // Code for char o
	0x05, 0xFC, 0x18, 0x24, 0x24, 0x18,      // Code for char p
	0x05, 0x18, 0x24, 0x24, 0x18, 0xFC,      // Code for char q
	0x05, 0x7C, 0x08, 0x04, 0x04, 0x08,      // Code for char r
	0x05, 0x48, 0x54, 0x54, 0x54, 0x24,      // Code for char s
	0x05, 0x04, 0x04, 0x3F, 0x44, 0x24,      // Code for char t
	0x05, 0x3C, 0x40, 0x40, 0x20, 0x7C,      // Code for char u
	0x05, 0x1C, 0x20, 0x40, 0x20, 0x1C,      // Code for char v
	0x05, 0x3C, 0x40, 0x30, 0x40, 0x3C,      // Code for char w
	0x05, 0x44, 0x28, 0x10, 0x28, 0x44,      // Code for char x
	0x05, 0x4C, 0x90, 0x90, 0x90, 0x7C,      // Code for char y
	0x05, 0x44, 0x64, 0x54, 0x4C, 0x44,      // Code for char z
	0x05, 0x00, 0x08, 0x36, 0x41, 0x00,      // Code for char {
	0x05, 0x00, 0x00, 0x77, 0x00, 0x00,      // Code for char |
	0x05, 0x00, 0x41, 0x36, 0x08, 0x00,      // Code for char }
	0x05, 0x04, 0x02, 0x04, 0x08, 0x04,      // Code for char ~
	0x05, 0x00, 0x7F, 0x41, 0x7F, 0x00       // Code for char 
};

const unsigned int Tahoma11x13[] =  
{
        0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char  
        0x02, 0x00, 0x00, 0x7E, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char !
        0x04, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char "
        0x08, 0x00, 0x00, 0x40, 0x00, 0x48, 0x03, 0xF8, 0x00, 0x4E, 0x03, 0xF8, 0x00, 0x4E, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char #
        0x06, 0x18, 0x02, 0x24, 0x02, 0xFF, 0x0F, 0x44, 0x02, 0x44, 0x02, 0x84, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char $
        0x0B, 0x00, 0x00, 0x1C, 0x00, 0x22, 0x00, 0x22, 0x02, 0x9C, 0x01, 0x60, 0x00, 0x10, 0x00, 0xCC, 0x01, 0x22, 0x02, 0x20, 0x02, 0xC0, 0x01,  // Code for char %
        0x08, 0xCC, 0x01, 0x32, 0x02, 0x22, 0x02, 0x22, 0x02, 0x52, 0x02, 0x8C, 0x01, 0xE0, 0x01, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char &
        0x02, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char '
        0x05, 0x00, 0x00, 0xF0, 0x01, 0x0C, 0x06, 0x02, 0x08, 0x01, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char (
        0x04, 0x01, 0x10, 0x02, 0x08, 0x0C, 0x06, 0xF0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char )
        0x06, 0x00, 0x00, 0x0A, 0x00, 0x04, 0x00, 0x1F, 0x00, 0x04, 0x00, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char *
        0x07, 0x20, 0x00, 0x20, 0x00, 0x20, 0x00, 0xFC, 0x01, 0x20, 0x00, 0x20, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char +
        0x02, 0x00, 0x08, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char ,
        0x04, 0x20, 0x00, 0x20, 0x00, 0x20, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char -
        0x02, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char .
        0x05, 0x00, 0x0C, 0x80, 0x03, 0x60, 0x00, 0x1C, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char /
        0x06, 0xFC, 0x01, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0xFC, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 0
        0x06, 0x00, 0x00, 0x04, 0x02, 0x04, 0x02, 0xFE, 0x03, 0x00, 0x02, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 1
        0x06, 0x04, 0x03, 0x82, 0x02, 0x42, 0x02, 0x42, 0x02, 0x22, 0x02, 0x1C, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 2
        0x06, 0x04, 0x01, 0x02, 0x02, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0xDC, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 3
        0x06, 0x60, 0x00, 0x50, 0x00, 0x48, 0x00, 0x44, 0x00, 0xFE, 0x03, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 4
        0x06, 0x1E, 0x01, 0x12, 0x02, 0x12, 0x02, 0x12, 0x02, 0x12, 0x02, 0xE2, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 5
        0x06, 0xF8, 0x01, 0x14, 0x02, 0x12, 0x02, 0x12, 0x02, 0x12, 0x02, 0xE0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 6
        0x06, 0x02, 0x00, 0x02, 0x02, 0x82, 0x01, 0x62, 0x00, 0x1A, 0x00, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 7
        0x06, 0xDC, 0x01, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0xDC, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 8
        0x06, 0x3C, 0x00, 0x42, 0x02, 0x42, 0x02, 0x42, 0x02, 0x42, 0x01, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char 9
        0x03, 0x00, 0x00, 0x00, 0x00, 0x18, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char :
        0x03, 0x00, 0x00, 0x00, 0x08, 0x18, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char ;
        0x08, 0x00, 0x00, 0x20, 0x00, 0x20, 0x00, 0x50, 0x00, 0x50, 0x00, 0x88, 0x00, 0x88, 0x00, 0x04, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char <
        0x08, 0x00, 0x00, 0x90, 0x00, 0x90, 0x00, 0x90, 0x00, 0x90, 0x00, 0x90, 0x00, 0x90, 0x00, 0x90, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char =
        0x08, 0x00, 0x00, 0x04, 0x01, 0x88, 0x00, 0x88, 0x00, 0x50, 0x00, 0x50, 0x00, 0x20, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char >
        0x05, 0x04, 0x00, 0x42, 0x03, 0x22, 0x00, 0x12, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char ?
        0x0B, 0xF0, 0x00, 0x0C, 0x03, 0x04, 0x02, 0xF2, 0x04, 0x0A, 0x05, 0x0A, 0x05, 0x0A, 0x05, 0xFA, 0x05, 0x04, 0x01, 0x0C, 0x01, 0xF0, 0x00,  // Code for char @
        0x07, 0x00, 0x03, 0xE0, 0x00, 0x98, 0x00, 0x86, 0x00, 0x98, 0x00, 0xE0, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char A
        0x06, 0xFE, 0x03, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0x3C, 0x02, 0xC0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char B
        0x07, 0xF8, 0x00, 0x04, 0x01, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x04, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char C
        0x07, 0xFE, 0x03, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x04, 0x01, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char D
        0x06, 0xFE, 0x03, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char E
        0x06, 0xFE, 0x03, 0x22, 0x00, 0x22, 0x00, 0x22, 0x00, 0x22, 0x00, 0x22, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char F
        0x07, 0xF8, 0x00, 0x04, 0x01, 0x02, 0x02, 0x02, 0x02, 0x42, 0x02, 0x42, 0x02, 0xC4, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char G
        0x07, 0xFE, 0x03, 0x20, 0x00, 0x20, 0x00, 0x20, 0x00, 0x20, 0x00, 0x20, 0x00, 0xFE, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char H
        0x03, 0x02, 0x02, 0xFE, 0x03, 0x02, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char I
        0x04, 0x00, 0x02, 0x02, 0x02, 0x02, 0x02, 0xFE, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char J
        0x06, 0xFE, 0x03, 0x20, 0x00, 0x50, 0x00, 0x88, 0x00, 0x04, 0x01, 0x02, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char K
        0x05, 0xFE, 0x03, 0x00, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char L
        0x09, 0xFE, 0x03, 0x06, 0x00, 0x18, 0x00, 0x60, 0x00, 0x80, 0x01, 0x60, 0x00, 0x18, 0x00, 0x06, 0x00, 0xFE, 0x03, 0x00, 0x00, 0x00, 0x00,  // Code for char M
        0x07, 0xFE, 0x03, 0x06, 0x00, 0x18, 0x00, 0x20, 0x00, 0xC0, 0x00, 0x00, 0x03, 0xFE, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char N
        0x08, 0xF8, 0x00, 0x04, 0x01, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x04, 0x01, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char O
        0x06, 0xFE, 0x03, 0x22, 0x00, 0x22, 0x00, 0x22, 0x00, 0x22, 0x00, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char P
        0x08, 0xF8, 0x00, 0x04, 0x01, 0x02, 0x02, 0x02, 0x02, 0x02, 0x06, 0x02, 0x0A, 0x04, 0x09, 0xF8, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char Q
        0x07, 0xFE, 0x03, 0x22, 0x00, 0x22, 0x00, 0x62, 0x00, 0xA2, 0x00, 0x1C, 0x01, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char R
        0x07, 0x1C, 0x01, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0x22, 0x02, 0xC4, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char S
        0x07, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00, 0xFE, 0x03, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char T
        0x07, 0xFE, 0x00, 0x00, 0x01, 0x00, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00, 0x01, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char U
        0x07, 0x0E, 0x00, 0x30, 0x00, 0xC0, 0x00, 0x00, 0x03, 0xC0, 0x00, 0x30, 0x00, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char V
        0x0B, 0x1E, 0x00, 0xE0, 0x01, 0x00, 0x02, 0xC0, 0x01, 0x38, 0x00, 0x06, 0x00, 0x38, 0x00, 0xC0, 0x01, 0x00, 0x02, 0xE0, 0x01, 0x1E, 0x00,  // Code for char W
        0x07, 0x02, 0x02, 0x04, 0x01, 0xD8, 0x00, 0x20, 0x00, 0xD8, 0x00, 0x04, 0x01, 0x02, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char X
        0x07, 0x02, 0x00, 0x0C, 0x00, 0x10, 0x00, 0xE0, 0x03, 0x10, 0x00, 0x0C, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char Y
        0x06, 0x02, 0x03, 0x82, 0x02, 0x62, 0x02, 0x12, 0x02, 0x0A, 0x02, 0x06, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char Z
        0x04, 0x00, 0x00, 0xFF, 0x0F, 0x01, 0x08, 0x01, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char [
        0x05, 0x03, 0x00, 0x1C, 0x00, 0x60, 0x00, 0x80, 0x03, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char BackSlash
        0x04, 0x00, 0x00, 0x01, 0x08, 0x01, 0x08, 0xFF, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char ]
        0x09, 0x00, 0x00, 0x10, 0x00, 0x08, 0x00, 0x04, 0x00, 0x02, 0x00, 0x02, 0x00, 0x04, 0x00, 0x08, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char ^
        0x07, 0x00, 0x08, 0x00, 0x08, 0x00, 0x08, 0x00, 0x08, 0x00, 0x08, 0x00, 0x08, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char _
        0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char `
        0x06, 0x80, 0x01, 0x48, 0x02, 0x48, 0x02, 0x48, 0x02, 0x48, 0x01, 0xF0, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char a
        0x06, 0xFF, 0x03, 0x10, 0x02, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0xF0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char b
        0x05, 0xF0, 0x01, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char c
        0x06, 0xF0, 0x01, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0x08, 0x01, 0xFF, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char d
        0x06, 0xF0, 0x01, 0x48, 0x02, 0x48, 0x02, 0x48, 0x02, 0x48, 0x02, 0x70, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char e
        0x05, 0x08, 0x00, 0xFE, 0x03, 0x09, 0x00, 0x09, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char f
        0x06, 0xF0, 0x01, 0x08, 0x12, 0x08, 0x12, 0x08, 0x12, 0x08, 0x11, 0xF8, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char g
        0x06, 0xFF, 0x03, 0x10, 0x00, 0x08, 0x00, 0x08, 0x00, 0x08, 0x00, 0xF0, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char h
        0x02, 0x00, 0x00, 0xFA, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char i
        0x03, 0x00, 0x10, 0x08, 0x10, 0xFA, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char j
        0x05, 0xFF, 0x03, 0x40, 0x00, 0xA0, 0x00, 0x10, 0x01, 0x08, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char k
        0x02, 0x00, 0x00, 0xFF, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char l
        0x0A, 0x00, 0x00, 0xF8, 0x03, 0x10, 0x00, 0x08, 0x00, 0x08, 0x00, 0xF0, 0x03, 0x10, 0x00, 0x08, 0x00, 0x08, 0x00, 0xF0, 0x03, 0x00, 0x00,  // Code for char m
        0x06, 0xF8, 0x03, 0x10, 0x00, 0x08, 0x00, 0x08, 0x00, 0x08, 0x00, 0xF0, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char n
        0x06, 0xF0, 0x01, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0xF0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char o
        0x06, 0xF8, 0x1F, 0x10, 0x02, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0xF0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char p
        0x06, 0xF0, 0x01, 0x08, 0x02, 0x08, 0x02, 0x08, 0x02, 0x08, 0x01, 0xF8, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char q
        0x04, 0xF8, 0x03, 0x10, 0x00, 0x08, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char r
        0x05, 0x30, 0x01, 0x48, 0x02, 0x48, 0x02, 0x48, 0x02, 0x90, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char s
        0x04, 0x08, 0x00, 0xFE, 0x01, 0x08, 0x02, 0x08, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char t
        0x06, 0xF8, 0x01, 0x00, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00, 0x01, 0xF8, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char u
        0x05, 0x18, 0x00, 0xE0, 0x00, 0x00, 0x03, 0xE0, 0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char v
        0x09, 0x18, 0x00, 0xE0, 0x00, 0x00, 0x03, 0xE0, 0x00, 0x18, 0x00, 0xE0, 0x00, 0x00, 0x03, 0xE0, 0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char w
        0x05, 0x08, 0x02, 0xB0, 0x01, 0x40, 0x00, 0xB0, 0x01, 0x08, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char x
        0x05, 0x18, 0x00, 0xE0, 0x18, 0x00, 0x07, 0xE0, 0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char y
        0x05, 0x08, 0x03, 0x88, 0x02, 0x48, 0x02, 0x28, 0x02, 0x18, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char z
        0x05, 0x40, 0x00, 0x40, 0x00, 0xBE, 0x07, 0x01, 0x08, 0x01, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char {
        0x03, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char |
        0x05, 0x01, 0x08, 0x01, 0x08, 0xBE, 0x07, 0x40, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char }
        0x08, 0x00, 0x00, 0x60, 0x00, 0x10, 0x00, 0x10, 0x00, 0x20, 0x00, 0x40, 0x00, 0x40, 0x00, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // Code for char ~
        0x03, 0xFF, 0x03, 0x01, 0x02, 0xFF, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00   // Code for char 
};


void GLCD_GotoX(const unsigned int X)
{
	if (X < __GLCD_Screen_Width)
		__GLCD.X = X;
}

void GLCD_GotoY(const unsigned int Y)
{
	if (__GLCD.Y < __GLCD_Screen_Height)
		__GLCD.Y = Y;
}

void GLCD_GotoXY(const unsigned int X, const unsigned int Y)
{
	GLCD_GotoX(X);
	GLCD_GotoY(Y);
}

static void GLCD_BufferWrite(const unsigned int X, const unsigned int Y, const unsigned int Data)
{
	//a>>3 = a/8
	__GLCD_Buffer[X][Y>>3] = Data;
}

static unsigned int GLCD_BufferRead(const unsigned int X, const unsigned int Y)
{
	//a>>3 = a/8
	return (__GLCD_Buffer[X][Y>>3]);
}

void GLCD_SetFont(const unsigned int *Name, const unsigned int Width, const unsigned int Height, enum PrintMode_t Mode, enum OperatingMode_t Invert)
{
	if ((Width < __GLCD_Screen_Width) && (Height < __GLCD_Screen_Height) && ((Mode == GLCD_Overwrite) || (Mode == GLCD_Merge)))
	{
		//Change font pointer to new font
		__GLCD.Font.Name = (unsigned int *)(Name);
		
		//Update font's size
		__GLCD.Font.Width = Width;
		__GLCD.Font.Height = Height;
		
		//Update lines required for a character to be fully displayed
		__GLCD.Font.Lines = Height / __GLCD_Screen_Line_Height  + (( (Height % __GLCD_Screen_Line_Height) != 0) ? 1 : 0);
		
		//Update blending mode
		__GLCD.Font.Mode = Mode;
        __GLCD.Font.Invert = Invert;
	}
}



void GLCD_PrintChar(char Character)
{

	unsigned int fontStart, fontRead, fontReadPrev;
	unsigned char x, y, y2, i, j, width, lines, overflow, data, dataPrev;
	fontStart = fontRead = fontReadPrev = x = y = y2 = i = j = width = lines = overflow = data = dataPrev = 0;
	
	//#1 - Save current position
	x = __GLCD.X;
	y = y2 = __GLCD.Y;
	
	//#2 - Remove leading empty characters
	Character -= 32;														//32 is the ASCII of the first printable character
	
	//#3 - Find the start of the character in the font array
	fontStart = Character * (__GLCD.Font.Width * __GLCD.Font.Lines + 1);		//+1 due to first byte of each array line being the width
	
	//#4 - Update width - First byte of each line is the width of the character
	width = __GLCD.Font.Name[fontStart++];
	data = __GLCD.X + width;											//"data" is used temporarily
	//If character exceed screen bounds, reduce
	if (data >= __GLCD_Screen_Width)
		width -= data-__GLCD_Screen_Width;
	
	//#5 - Update lines
	lines = __GLCD.Font.Lines;
	data = __GLCD.Y / __GLCD_Screen_Line_Height + lines;				//"data" is used temporarily
	//If character exceed screen bounds, reduce
	if (data > __GLCD_Screen_Lines)
		lines -= data - __GLCD_Screen_Lines;
	
	//#6 - Calculate overflowing bits
	overflow = __GLCD.Y % __GLCD_Screen_Line_Height;
		
	//#7 - Print the character
	//Scan the lines needed
	for (j = 0 ; j < lines ; j++)
	{
		//Go to the start of the line
		GLCD_GotoXY(x, y);
		
		//Update the indices for reading the line
		fontRead = fontStart + j;
		fontReadPrev = fontRead - 1;

		//Scan bytes of selected line
		for (i = 0 ; i < width ; i++)
		{
			//Read byte
			data = __GLCD.Font.Name[fontRead];
			
			//Shift byte
			data <<= overflow;
			
			//Merge byte with previous one
			if (j > 0)
			{
				dataPrev = __GLCD.Font.Name[fontReadPrev];
				dataPrev >>= __GLCD_Screen_Line_Height - overflow;
				data |= dataPrev;
				fontReadPrev += __GLCD.Font.Lines;
			}
			//Edit byte depending on the mode
			if (__GLCD.Font.Mode == GLCD_Merge)
				data |= GLCD_BufferRead(__GLCD.X, __GLCD.Y);
			
			//Send byte
			GLCD_BufferWrite(__GLCD.X++, __GLCD.Y, data);
			
			//Increase index
			fontRead += __GLCD.Font.Lines;
		}
		//Send an empty column of 1px in the end
		if (__GLCD.Font.Mode == GLCD_Overwrite)
			data = GLCD_White;
		else
			data = GLCD_BufferRead(__GLCD.X, __GLCD.Y);
		GLCD_BufferWrite(__GLCD.X, __GLCD.Y, data);
		
		//Increase line counter
		y += __GLCD_Screen_Line_Height;
	}

	//#8 - Update last line, if needed
	if (lines > 1)
	{
		//Go to the start of the line
		GLCD_GotoXY(x, y);
		
		//Update the index for reading the last printed line
		fontReadPrev = fontStart + j - 1;

		//Scan bytes of selected line
		for (i = 0 ; i < width ; i++)
		{
			//Read byte
			data = GLCD_BufferRead(__GLCD.X, __GLCD.Y);
			
			//Merge byte with previous one
			dataPrev = __GLCD.Font.Name[fontReadPrev];
			dataPrev >>= __GLCD_Screen_Line_Height - overflow;
			data |= dataPrev;
			
			//Edit byte depending on the mode
			if (__GLCD.Font.Mode == GLCD_Merge)
				data |= GLCD_BufferRead(__GLCD.X, __GLCD.Y);
			
			//Send byte
			GLCD_BufferWrite(__GLCD.X, __GLCD.Y, data);

			//Increase index
			fontReadPrev += __GLCD.Font.Lines;
		}
		//Send an empty column of 1px in the end
		if (__GLCD.Font.Mode == GLCD_Overwrite)
			data = GLCD_White;
		else if (__GLCD.Font.Mode == GLCD_Merge)
			data = GLCD_BufferRead(__GLCD.X, __GLCD.Y);
		else
			data = ~GLCD_BufferRead(__GLCD.X, __GLCD.Y);
		GLCD_BufferWrite(__GLCD.X++, __GLCD.Y,data);
	}

	
	//Move cursor to the end of the printed character
	GLCD_GotoXY(x + width + 1, y2);

GLCD_GotoXY(x + width + 1, y2);

}


void GLCD_PrintString(const char *Text)
{
	while(*Text)
	{
		if ((__GLCD.X + __GLCD.Font.Width) >= __GLCD_Screen_Width)
			break;
		
		GLCD_PrintChar(*Text++);
	}
}


void ClearGLCD_Buffer() {
    for (size_t col = 0; col < 128; col++) {
        for (size_t row = 0; row < 5; row++) {
            __GLCD_Buffer[col][row] = 0;
        }
    }
}

void GLCD_Render(void)
{
	unsigned int i, j,temp;
	
	for (j = 0 ; j < 48 ; j += __GLCD_Screen_Line_Height)
	{
				for (int bit = 0; bit < 8; bit++) 
				{

					for (i = 0 ; i < 32 ; i++)  //
					{
						temp = (GLCD_BufferRead(i, j) >> bit) & 0x01;
								
						if(temp == 1)
						{
							printf("1 ");
						}else
						{
							printf(". ");
						}
					}
					printf("\n\r");
				}
		printf("\n\r");
	}
}


int main()
{
      char txt [] = "BAT 1";
      ClearGLCD_Buffer();

    const char voltage[] = "A";
    const char current[] = "B";
    const char capacity[] = "Capacity:";

    GLCD_GotoXY(0,0);

        GLCD_SetFont(Tahoma11x13, 11,13, GLCD_Merge, GLCD_Non_Inverted);
    /*
    GLCD_PrintString("BAT 1");
    GLCD_DrawRectangle(0, 0, 31, 10, GLCD_Black);

    GLCD_DrawLine(63,0,63,63,GLCD_Black);
    GLCD_GotoXY(67,2);
    GLCD_PrintString("BAT 2");
    GLCD_DrawRectangle(65,0 , 98, 10, GLCD_Black);
*/
    GLCD_GotoXY(0,0);
    GLCD_PrintString("P");
   
 
  //  GLCD_GotoXY(0,33);
         GLCD_Render();
}
